<!DOCTYPE html>
<html>
    <head lang="pt-BR">
        <title>Programação procedural orientada a classes - Parte 1 | Dias de Dev</title>
        <meta charset="utf-8">
        <meta name="theme-color" content="#ffffff">
        <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
            <meta name="robots" content="index, follow">
    <meta name="keywords" content="Programação procedural, Orientação a objetos, Dias de Dev">
    <meta name="description" content="A programação orientada a objetos é muito citada e utilizada, mas será que você está fazendo da forma correta? Será que não está apenas usando classes na programação procedural?">
        <link rel="stylesheet" href="/build/app.css">

        
        <link rel="alternate" type="application/atom+xml" href="/atom.xml" title="Dias de Dev activity feed" />
                    <link rel="stylesheet" href="/build/post.css">
                    </head>
    <body>
        <div class="global-container">
            <header>
                <div class="header-title">
                    <h1 class="main-heading">
                        <a aria-current="page" href="/">Dias de Dev</a>
                    </h1>
                </div>
                <nav class="menu">
                    <a aria-current="page" href="/">Home</a>
                    <a href="/categorias">Categorias</a>
                    <!--<a class="nav-link" href="/blog">Posts Archive</a>
                    <a class="nav-link" href="/blog/tags">Tags</a>-->
                    <a href="/sobre-mim/">Sobre Mim</a>
                    <a href="https://youtube.com/DiasDeDev?sub_confirmation=1" target="_blank">
                        YouTube
                    </a>
                </nav>
            </header>
            <main role="main">
                    <article itemscope itemtype="https://schema.org/Article">
        <header>
            <h1 itemprop="headline" class="post-title">
                Programação procedural orientada a classes - Parte 1
            </h1>
            <p class="post-date" itemprop="dateCreated">
                14 de fevereiro de 2022
            </p>
        </header>
        <div itemprop="articleBody">
            <h2 id="farsa-da-programa%C3%A7%C3%A3o-orientada-a-objetos">Farsa da programação Orientada a Objetos</h2>

<p>Acredito que todos concordamos que a programação Orientada a Objetos torna nosso código mais legível e permite arquiteturas mais interessantes do que a programação procedural, além de permitir recursos interessantes de reutilização de código.</p>

<p>Partindo desse pressuposto, também acredito que seja intenção de qualquer pessoa que trabalhe com desenvolvimento aprender mais e mais as técnicas e boas práticas deste paradigma de programação.</p>

<p>O problema acontece quando a gente vem de um aprendizado de programação procedural e tenta aplicar as mesmas técnicas fazendo uso de classes e objetos.</p>

<h2 id="exemplo-cl%C3%A1ssico">Exemplo clássico</h2>

<p>Há um exemplo muito clássico de um código que claramente, embora utilize classes e objetos, é procedural:</p>

<h3 id="defini%C3%A7%C3%A3o-de-uma-classe">Definição de uma classe</h3>

<pre><code class="php">&lt;?php

class Pessoa
{
    private string $primeiroNome;
    private string $ultimoNome;
    private \DateTimeInterface $dataNascimento;

    public function setPrimeiroNome(string $primeiroNome): void
    {
        $this-&gt;primeiroNome = $primeiroNome;
    }

    public function getPrimeiroNome(): string
    {
        return $this-&gt;primeiroNome;
    }

    public function setUltimoNome(string $ultimoNome): void
    {
        $this-&gt;ultimoNome = $ultimoNome;
    }

    public function getUltimoNome(): string
    {
        return $this-&gt;ultimoNome;
    }

    public function setDataNascimento(\DateTimeInterface $dataNascimento): void
    {
        $this-&gt;dataNascimento = $dataNascimento;
    }

    public function getDataNascimento(): \DateTimeInterface
    {
        return $this-&gt;dataNascimento;
    }
}

</code></pre>

<h3 id="utiliza%C3%A7%C3%A3o-dela">Utilização dela</h3>

<pre><code class="php">$pessoa = new Pessoa();
$pessoa-&gt;setPrimeiroNome('Vinicius');
$pessoa-&gt;setUltimoNome('Dias');
$pessoa-&gt;setDataNascimento(new \DateTimeImmutable('1997-10-15')); // aceito presentes

$idade = $pessoa-&gt;getDataNascimento()-&gt;diff(new \DateImmutable())-&gt;y;

echo "{$pessoa-&gt;getPrimeiroNome()} {$pessoa-&gt;getUltimoNome()} tem $idade anos";
</code></pre>

<h3 id="problema">Problema</h3>

<p>Olhando esse simples exemplo:</p>

<ol>
<li>Você nota algum problema?</li>
<li>Identifica semelhança com algum pedaço de código que você tenha escrito recentemente?</li>
</ol>

<p>Depois de você refletir um pouco, vamos continuar.</p>

<p>O código exemplificado utiliza uma classe <code>Pessoa</code> e a partir desta classe, cria um objeto. Logo, está utilizando do paradigma de programação orientada a objetos, certo? Errado!</p>

<p>Esse exemplo é claramente um código procedural que usa uma classe. Nada além disso.</p>

<h2 id="proposta">Proposta</h2>

<p>Se você possui uma classe, os objetos gerados através dela devem ter seus comportamentos descritos (através de métodos) e não apenas fornecer os dados para realizar essas ações.</p>

<p>O código anterior poderia ser escrito da seguinte forma para usar o paradigma Orientado a Objetos:</p>

<pre><code class="php">&lt;?php

class Pessoa
{
    private string $primeiroNome;
    private string $ultimoNome;
    private \DateTimeInterface $dataNascimento;

    public function __construct(
        string $primeiroNome,
        string $ultimoNome,
        \DateTimeInterface $dataNascimento
    ) {
        $this-&gt;primeiroNome = $primeiroNome;
        $this-&gt;ultimoNome = $ultimoNome;
        $this-&gt;dataNascimento = $dataNascimento;
    }

    public function nomeCompleto(): string
    {
        return "{$this-&gt;primeiroNome} {$this-&gt;ultimoNome}";
    }

    public function idade(): int
    {
        $hoje = new DateTimeImmutable();

        return $this-&gt;dataNascimento-&gt;diff($hoje)-&gt;y;
    }
</code></pre>

<p>E assim poderíamos utilizar esta classe:</p>

<pre><code class="php">&lt;?php

$pessoa = new Pessoa('Vinicius', 'Dias', new \DateTimeImmutable('1997-10-15'));

echo "{$pessoa-&gt;nomeCompleto()} tem {$pessoa-&gt;idade()} anos.";
</code></pre>

<h3 id="motiva%C3%A7%C3%A3o-da-mudan%C3%A7a">Motivação da mudança</h3>

<p>Com essa simples modificação nós não temos mais instâncias inválidas, já que agora toda <code>Pessoa</code> tem seu primeiro e último nome e sua data de nascimento. Antes, primeiro nós estávamos criando uma <code>Pessoa</code> em um estado inconsistente, sem seus dados, para depois defini-los.</p>

<p>Além disso, agora qualquer método que receba uma <code>Pessoa</code> por parâmetro não precisa saber se nesse objeto o nome completo está separado em primeiro e segundo nome ou não. Não precisa saber como o cálculo da idade é feito.</p>

<p>Caso a forma de apresentar o nome precise ser modificado (de "Vinicius Dias" para "Dias, Vinicius", por exemplo), podemos ir direto no ponto correto: O método <code>nomeCompleto</code>.</p>

<p>Embora seja um exemplo muito simples, ele mostra com clareza como normalmente escrevemos código acreditando estar utilizando a programação orientada a objetos.</p>

<p>Caso você tenha algum outro exemplo desse tipo em mente, já tenha visto algum código procedural com classes assim, ou tenha alguma outra sugestão de melhoria pra esse exemplo, que tal compartilhar com a gente aqui nos comentários?</p>

<h2 id="princ%C3%ADpios-e-padr%C3%B5es">Princípios e padrões</h2>

<p>Para nos ajudar a utilizar de forma mais "correta" a orientação a objetos, existem diversos padrões e princípios. Uns mais simples como o <a href="https://youtu.be/7IXeLhpjk6g">Tell, Don't ask</a>, outros mais completos e complexos como os <a href="https://amzn.to/3Eplrm2">princípios SOLID</a>.</p>

<p>Todos os princípios merecem uma atenção especial, porém isso foge do escopo deste artigo, mas uma rápida busca te mostra uma imensidão de conteúdo a respeito.</p>

<h2 id="conclus%C3%A3o">Conclusão</h2>

<p>Muito frequentemente nós utilizamos o paradigma procedural em nosso código e só pelo fato de termos classes definidas no código, achamos que estamos utilizando a Orientação a Objetos.</p>

<p>Este paradigma é muito mais do que apenas definir classes, atributos e métodos, logo, precisa de muito mais estudo do que apenas a leitura da documentação da sua linguagem favorita para aprender a sintaxe.</p>

        </div>
        <footer class="post-footer" itemprop="author" itemscope itemtype="https://schema.org/Person">
            <img src="https://gravatar.com/avatar/63579c5a873f3ab6abff10803e9a252f.jpg?s=50"
                 alt="Foto do Vinicius Dias com o microfone na mão durante uma palestra"
                 itemprop="image" />
            <p>
                Escrito por <a href="https://twitter.com/cviniciussdias" itemprop="givenName">Vinicius Dias</a>
            </p>
        </footer>

                    <nav class="article-navigation">
                <ul>
                    <li>
                                                <a class="previous" href="/2020-04-10-o-que-e-arquitetura/" title="O que é arquitetura">
                            ← <span class="title">O que é arquitetura</span>
                        </a>
                                            </li>
                    <li>
                                                <a class="next" href="/2020-04-16-programacao-procedural-orientada-a-classes-parte-2/" title="Programação procedural orientada a classes - Parte 2">
                            <span class="title">Programação procedural orientada a classes - Parte 2</span> →
                        </a>
                                            </li>
                </ul>
            </nav>
            </article>



            </main>
            <footer class="global-footer">&copy; 2022 Dias de Dev</footer>
        </div>

        <script src="/build/app.js"></script>
                
        <!-- Google Tag Manager -->
        <script>(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':
                    new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],
                j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src=
                'https://www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);
            })(window,document,'script','dataLayer','GTM-5ZJJ977');</script>
        <!-- End Google Tag Manager -->
        <!-- Google Tag Manager (noscript) -->
        <noscript><iframe src="https://www.googletagmanager.com/ns.html?id=GTM-5ZJJ977"
                          height="0" width="0" style="display:none;visibility:hidden"></iframe></noscript>
        <!-- End Google Tag Manager (noscript) -->
        <!-- Google AdSense -->
        <script data-ad-client="ca-pub-8918461095244552" async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <!-- End Google AdSense -->
                    </body>
</html>
