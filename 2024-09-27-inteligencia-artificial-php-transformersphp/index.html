<!DOCTYPE html>
<html lang="pt-BR">
    <head>
        <title>Inteligência Artificial com PHP - Executando modelos com TransformersPHP | Dias de Dev</title>
        <meta charset="utf-8">
        <meta name="theme-color" content="#ffffff">
        <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
            <meta name="robots" content="index, follow">
    <meta name="title" content="Inteligência Artificial com PHP - Executando modelos com TransformersPHP | Dias de Dev">
    <meta name="keywords" content="PHP, Inteligência Artificial, TransformersPHP, Modelos Pré-Treinados, Machine Learning, Deep Learning, Processamento de Linguagem Natural, Análise de Sentimento, Resumo de Texto, FFI, Dias de Dev">
    <meta name="description" content="Descubra como executar modelos de IA pré-treinados utilizando PHP com a biblioteca TransformersPHP. Aprenda a instalar, configurar e aplicar modelos com exemplos práticos.">

    <!-- Open Graph / Facebook -->
    <meta property="og:type" content="article">
    <meta property="og:article:published_time" content="1727395200">
    <meta property="og:url" content="https://dias.dev/2024-09-27-inteligencia-artificial-php-transformersphp/">
    <meta property="og:title" content="Inteligência Artificial com PHP - Executando modelos com TransformersPHP | Dias de Dev">
    <meta property="og:description" content="Descubra como executar modelos de IA pré-treinados utilizando PHP com a biblioteca TransformersPHP. Aprenda a instalar, configurar e aplicar modelos com exemplos práticos.">
    <meta property="og:image" content="https://dias.dev/assets/img/thumbs/2024-09-16-inteligencia-artificial-php-transformersphp.png">

    <!-- Twitter -->
    <meta property="twitter:card" content="summary">
    <meta property="twitter:url" content="https://dias.dev/2024-09-27-inteligencia-artificial-php-transformersphp/">
    <meta property="twitter:title" content="Inteligência Artificial com PHP - Executando modelos com TransformersPHP | Dias de Dev">
    <meta property="twitter:description" content="Descubra como executar modelos de IA pré-treinados utilizando PHP com a biblioteca TransformersPHP. Aprenda a instalar, configurar e aplicar modelos com exemplos práticos.">

    <link rel="preconnect" href="https://gravatar.com">
    <link rel="preconnect" href="https://utteranc.es">

    <link rel="prefetch" href="/build/social/facebook.svg" as="image" type="image/svg+xml">
    <link rel="prefetch" href="/build/social/twitter_x.svg" as="image" type="image/svg+xml">
    <link rel="prefetch" href="/build/social/linkedin.svg" as="image" type="image/svg+xml">
    <link rel="prefetch" href="/build/social/whatsapp.svg" as="image" type="image/svg+xml">

        <link rel="preload" href="/build/Baloo2-Bold.woff2" as="font" type="font/woff2" crossorigin>
        <link rel="preload" href="/build/Baloo2-ExtraBold.woff2" as="font" type="font/woff2" crossorigin>
        <link rel="preload" href="/build/Baloo2-Medium.woff2" as="font" type="font/woff2" crossorigin>
        <link rel="preload" href="/build/Baloo2-Regular.woff2" as="font" type="font/woff2" crossorigin>
        <link rel="preload" href="/build/Baloo2-SemiBold.woff2" as="font" type="font/woff2" crossorigin>
        <link rel="preload" href="/build/FugazOne-Regular.woff2" as="font" type="font/woff2" crossorigin>
        <link rel="stylesheet" href="/build/app.css">

        <link rel="alternate" type="application/atom+xml" href="/atom.xml" title="Dias de Dev activity feed">
                <link rel="canonical"
              href="https://dias.dev/2024-09-27-inteligencia-artificial-php-transformersphp/">
                    <link rel="stylesheet" href="/build/post.css">
                    </head>
    <body>
        <div class="global-container">
            <header>
                <div class="header-title">
                    <h1 class="main-heading">
                        <a aria-current="page" href="/">Dias de Dev</a>
                    </h1>
                </div>
                <nav class="menu">
                    <a aria-current="page" href="/">Home</a>
                    <a href="/categorias">Categorias</a>
                                        <a href="/sobre-mim/">Sobre Mim</a>
                    <a href="https://youtube.com/@DiasDeDev" target="_blank">
                        YouTube
                    </a>
                </nav>
            </header>
            <main>
                    <article itemscope itemtype="https://schema.org/Article">
        <header>
            <h1 itemprop="headline" class="post-title">
                Inteligência Artificial com PHP - Executando modelos com TransformersPHP
            </h1>
            <time class="post-date" itemprop="datePublished" pubdate datetime="2024-09-27">
                27 de setembro de 2024
            </time>
        </header>
        <div itemprop="articleBody">
            <p>Inteligência Artificial é uma área de estudos que está extremamente em alta e neste post, vamos explorar como integrar inteligência artificial ao seu projeto PHP usando a biblioteca TransformersPHP, uma ferramenta que facilita a execução de modelos pré-treinados.</p>

<h2 id="o-que-%C3%A9-intelig%C3%AAncia-artificial">O que é inteligência artificial</h2>

<p>A inteligência é o ramo da ciência da computação que desenvolve algoritmos e sistemas para permitir que máquinas aprendam com dados e realizem tarefas que simulam funções cognitivas humanas.</p>

<p>Existem diversas áreas de estudo dentro da inteligência artificial, como <em>Machine Learning</em>, <em>Deep Learning</em>, Processamento de Linguagem Natural, Visão Computacional, Robótica, entre outras.</p>

<p>Eu já escrevi aqui no blog sobre <em>machine learning</em>, mais especificamente sobre <a href="/2024-03-23-o-que-e-machine-learning">como aplicar um algoritmo de classificação com PHP</a>. Lá eu falei um pouco sobre uma técnica chamada de <strong>aprendizado supervisionado</strong>, onde nós fornecemos a um algoritmo um conjunto de dados de entrada e saída esperada, e ele aprende a mapear esses dados para fazer previsões com novos dados.</p>

<p>Agora eu quero falar sobre uma nova área da inteligência artificial, chamada de <strong>transformers</strong>.</p>

<h2 id="transformers">Transformers</h2>

<p>Transformers são uma arquitetura de rede neural que pode ser utilizada para diversas tarefas, dentre elas, a tradução de texto, a geração de texto, a classificação de texto, a geração de imagens, entre outras. O famoso ChatGPT, por exemplo, utiliza essa arquitetura para gerar e compreender texto.</p>

<p>Existem diversos modelos pré-treinados que utilizam essa arquitetura e nós podemos utilizá-los de diversas formas diferentes, em diversas linguagens de programação. Nesse texto eu quero te mostrar uma das formas <strong>mais simples</strong> de executar um desses modelos pré-treinados de IA com PHP.</p>

<h2 id="transformersphp">TransformersPHP</h2>

<p>Utilizando <a href="/2023-12-18-usando-rust-com-php-e-ffi">PHP e FFI</a>, nós poderíamos executar modelos pré-treinados de transformers, mas fazer isso manualmente seria uma tarefa muito trabalhosa. Para facilitar nossa vida, há algumas bibliotecas, dentre elas, a TransformersPHP. Essa biblioteca PHP para IA faz uso de outras ferramentas por baixo dos panos e abstrai uma grande parte do trabalho, facilitando o uso desse tipo de arquitetura com PHP.</p>

<h3 id="instalando-e-configurando-transformersphp">Instalando e configurando TransformersPHP</h3>

<p>O primeiro passo é efetivamente instalar a biblioteca em algum projeto PHP. Há alguns pré-requisitos para isso, como ter a extensão FFI instalada e habilitada em uma <strong>versão recente do PHP</strong>. Atendidos os pré-requisitos (que podem ser conferidos na <a href="https://codewithkyrian.github.io/transformers-php/getting-started#prerequisites">documentação oficial do componente</a>), podemos efetivamente instalar o TransformersPHP utilizando o <em>Composer</em>:</p>

<pre><code class="shell">composer require codewithkyrian/transformers
</code></pre>

<p>Ao instalar o componente, todas as bibliotecas compiladas necessárias para o funcionamento do TransformersPHP também já serão baixadas graças a um <em>plugin</em> do <em>Composer</em>. Com isso, temos o ambiente pronto para executar modelos de machine learning com PHP.</p>

<h3 id="resumindo-texto-com-transformersphp">Resumindo texto com TransformersPHP</h3>

<p>Uma das tarefas possíveis utilizando modelos pré-treinados de transformers é a de resumir texto. Você pode ter essa funcionalidade em seu sistema para resumir grandes conteúdos como documentos, notícias, etc. Vou utilizar um modelo treinado com textos em inglês e vou pegar o primeiro parágrafo da página da Wikipedia falando sobre a história da Disney.</p>

<pre><code class="php"><br />use function Codewithkyrian\Transformers\Pipelines\pipeline;

$resumidor = pipeline('summarization');
$textoGrande = &lt;&lt;&lt;TEXTO
The Walt Disney Company (commonly referred to as simply Disney) is an American multinational mass media and entertainment conglomerate headquartered at the Walt Disney Studios in Burbank, California. Disney was founded on October 16, 1923, by brothers Walt Disney and Roy Oliver Disney as Disney Brothers Cartoon Studio; it also operated under the names Walt Disney Studio and Walt Disney Productions before changing it to its current name in 1986. In 1928, Disney established itself as a leader in the animation industry with the short film Steamboat Willie. The film used synchronized sound to become the first post-produced sound cartoon, and popularized Mickey Mouse, who became Disney's mascot and corporate icon.
TEXTO;

$resumo = $resumidor($textoGrande);
var_dump($resumo);

</code></pre>

<p>A saída será algo parecido com o seguinte:</p>

<pre><code>array(1) {
  [0]=&gt;
  array(1) {
    ["summary_text"]=&gt;
    string(113) "The Walt Disney Company is an American multinational mass media and entertainment conglomerate. It was founded on"
  }
}
</code></pre>

<p>Repare que o resumo foi cortado. Isso se dá pelo fato de um parâmetro padrão de tamanho máximo ser de 20 tokens. Nós podemos melhorar essa saída informando um número maior de tokens possíveis a serem gerados pelo modelo, permitindo que ele consiga trabalhar com mais liberdade. Para isso, basta informar o parâmetro <code>maxNewTokens</code>:</p>

<pre><code class="php">$resumo = $resumidor($textoGrande, maxNewTokens: 100);
</code></pre>

<p>Com esse novo número, uma possível saída é a seguinte:</p>

<pre><code>array(1) {
  [0]=&gt;
  array(1) {
    ["summary_text"]=&gt;
    string(335) "The Walt Disney Company is an American multinational mass media and entertainment conglomerate. It was founded on October 16, 1923, by brothers Walt Disney and Roy Oliver Disney as Disney Brothers Cartoon Studio. It operated under the names Walt Disney Studio and Walt Disney Productions before changing it to its current name in 1986."
  }
}
</code></pre>

<h4 id="entendendo-o-c%C3%B3digo">Entendendo o código</h4>

<p>Com um resultado minimamente satisfatório, vamos entender o que cada parte desse código faz. A função <code>pipeline</code> traz o mais alto nível de abstração desse componente, nos fornecendo acesso a tarefas pré-definidas, como o caso de resumo (<em>summarization</em> em inglês). Outras possibilidades seriam análise de sentimento (<em>sentiment analysis</em>), tradução (<em>translation</em>), etc.</p>

<p>Ao definir uma tarefa, há um modelo pré-treinado padrão já definido pelo componente. O segundo parâmetro da função <code>pipeline</code> nos permite alterar esse modelo. No caso de resumo, o modelo padrão é o <a href="https://huggingface.co/Xenova/distilbart-cnn-6-6">Xenova/distilbart-cnn-6-6</a>.</p>

<p>Tendo criado nossa <em>pipeline</em>, basta passar o texto que queremos resumir e quaisquer parâmetros adicionais, sendo que cada tarefa pode ter parâmetros diferentes. No caso de resumo, o parâmetro <code>maxNewTokens</code> é um dos possíveis e a documentação traz os demais.</p>

<h3 id="an%C3%A1lise-de-sentimentos-com-php">Análise de sentimentos com PHP</h3>

<p>Para entrarmos em outro exemplo de como TransformersPHP pode lidar com textos, vamos realizar uma simples <a href="https://youtu.be/p3V9_qOBMBQ">análise de sentimentos com PHP</a>. Nós vamos passar algumas frases para um modelo e descobrir se essas frases são positivas, negativas ou neutras.</p>

<pre><code class="php">use function Codewithkyrian\Transformers\Pipelines\pipeline;

$analisador = pipeline('sentiment-analysis');
$positiva = $analisador('I love PHP!');
// ['label' =&gt; 'POSITIVE', 'score' =&gt; 0.99986254571945]
$negativa = $analisador('I hate JavaScript!');
// ['label' =&gt; 'NEGATIVE', 'score' =&gt; 0.99909101763341]

</code></pre>

<p>O resultado tem duas informações: a chave <code>label</code> indica se o sentimento é positivo ou negativo, enquanto <code>score</code> indica a confiança do modelo nesse resultado.</p>

<h3 id="encontrando-modelos">Encontrando modelos</h3>

<p>O TransformersPHP permite que nós utilizemos diversos modelos disponíveis no <a href="https://huggingface.co/">HuggingFace</a>, que é uma espécie de repositório para modelos de inteligência artificial para diversas tarefas e com diversas arquiteturas. Alguns modelos exigem um código um pouco mais "configurável" do que simplesmente utilizar a função <code>pipeline</code>, mas isso pode ser assunto para outro texto. Caso se interesse, é só deixar aqui nos comentários. 😉</p>

<h3 id="outras-tarefas-poss%C3%ADveis-com-transformersphp">Outras tarefas possíveis com TransformersPHP</h3>

<h2 id="conclus%C3%A3o">Conclusão</h2>

<p>Machine Learning é uma área de estudos fascinante e pode nos abrir um novo mundo de possibilidades e com ferramentas como TransformersPHP essas possibilidades estão abertas a nós, devs PHP. Se você se interessou pelo assunto, pode gostar do vídeo a seguir onde eu explico novamente o conceito de classificação e o aplico em outro conjunto de dados:</p>

<p><lite-youtube videoid="HP7gluvSY9U" style="background-image: url('https://i.ytimg.com/vi/HP7gluvSY9U/hqdefault.jpg');">
    <a href="https://youtube.com/watch?v=HP7gluvSY9U" class="lty-playbtn" title="Reproduzir vídeo">
        <span class="lyt-visually-hidden">Reproduzir vídeo: Machine Learning com PHP: Aprendizado de máquina na prática | Dias de Dev</span>
    </a>
</lite-youtube></p>

<p>Quer aprender mais sobre Machine Learning e PHP? Aproveite <a href="https://tidd.ly/3zpVV33">este cupom exclusivo de 15% de desconto na Alura</a> e eleve suas habilidades!</p>

        </div>
        <footer itemprop="author" itemscope itemtype="https://schema.org/Person">
            <div class="social-links-footer">
                <p>
                    Gostou desse post? Que tal compartilhar?
                </p>
                <span>
                    <a href="https://facebook.com/sharer/sharer.php?u=https://dias.dev/2024-09-27-inteligencia-artificial-php-transformersphp/" target="_blank" aria-label="Compartilhar post no Facebook">
                        <img src="/build/social/facebook.svg" alt="Logo do Facebook" loading="lazy" width="25" height="25" />
                    </a>
                    <a href="https://twitter.com/intent/tweet/?text=Intelig%C3%AAncia%20Artificial%20com%20PHP%20-%20Executando%20modelos%20com%20TransformersPHP%20%7C%20Dias%20de%20Dev%0A&url=https://dias.dev/2024-09-27-inteligencia-artificial-php-transformersphp/" target="_blank" aria-label="Compartilhar post no X (Twitter)">
                        <img src="/build/social/twitter_x.svg" alt="Logo do X (Twitter)" loading="lazy" width="25" height="25" />
                    </a>
                    <a href="https://linkedin.com/sharing/share-offsite/?url=https://dias.dev/2024-09-27-inteligencia-artificial-php-transformersphp/" target="_blank" aria-label="Compartilhar post no LinkedIn">
                        <img src="/build/social/linkedin.svg" alt="Logo do LinkedIn" loading="lazy" width="25" height="25" />
                    </a>
                    <a href="https://api.whatsapp.com/send?text=https://dias.dev/2024-09-27-inteligencia-artificial-php-transformersphp/" target="_blank" aria-label="Compartilhar post no WhatsApp">
                        <img src="/build/social/whatsapp.svg" alt="Logo do WhatsApp" loading="lazy" width="25" height="25" />
                    </a>
                </span>
            </div>
            <div class="post-author-footer">
                <img src="https://gravatar.com/avatar/63579c5a873f3ab6abff10803e9a252f.jpg?s=50"
                     alt="Foto do Vinicius Dias, um homem branco de cabelos escuros e curtos, em perfil com o fundo bem escuro em tons de azul enquanto mexe em um laptop durante uma apresentação."
                     width="50"
                     height="50"
                     loading="lazy"
                     itemprop="image">
                <p>
                    Escrito por
                    <a href="/sobre-mim/" itemprop="url">
                        <span itemprop="name">Vinicius Dias</span>
                    </a>
                </p>
            </div>
        </footer>

        <!-- TODO: Tema de acordo com as preferências do usuário -->
        <script src="https://utteranc.es/client.js"
                repo="cviniciussdias/cviniciussdias.github.io"
                issue-term="pathname"
                theme="github-light"
                crossorigin="anonymous"
                async>
        </script>

                    <nav class="article-navigation">
                <ul>
                    <li>
                                                <a class="previous" href="/2024-07-16-kubernetes-para-iniciantes-conceitos-basicos/" title="Kubernetes para Iniciantes: Conceitos Básicos e Aplicações Práticas">
                            ← <span class="title">Kubernetes para Iniciantes: Conceitos Básicos e Aplicações Práticas</span>
                        </a>
                                            </li>
                    <li>
                                            </li>
                </ul>
            </nav>
            </article>
            </main>
            <footer class="global-footer">&copy; 2024 Dias de Dev</footer>
        </div>

        <script src="/build/app.js"></script>
                
        <!-- Simple Analytics -->
        <script defer src="https://sa.dias.dev/latest.js"></script>
        <script defer src="https://sa.dias.dev/auto-events.js"></script>
        <noscript>
            <img src="https://sa.dias.dev/noscript.gif"
                 alt=""
                 referrerpolicy="no-referrer-when-downgrade">
        </noscript>
        <script type="speculationrules">
            {
              "prerender": [
                {
                  "source": "document",
                  "where": {
                    "href_matches": "/*"
                  },
                  "eagerness": "moderate"
                }
              ]
            }
        </script>
                    <script defer src="/build/lite-yt-embed-script.js" type="module"></script>
        </body>
</html>
